# ER図1
## 全体

- ActiveRecordで必ず自動生成される登録日と更新日を記録するカラムがない。
  > ActiveRecordで必ず自動生成されるcreated_atとupdated_atを追加してください。
- 意味のないテーブルの紐付きがある。
  - 管理人テーブルとエンドユーザーテーブル、商品テーブルが紐づいている必要がない。
    > 管理人テーブルとエンドユーザーテーブルが紐づいている理由はなんですか？
    > 管理人テーブルと商品テーブルが紐づいている理由はなんですか？
- 設計上必要なテーブルが足りない。
  - 購入時の商品情報（価格など）を保存するテーブルが存在しない。
    > 商品購入時の商品情報はどのテーブルに保存しますか？
  - 配送先を管理するテーブルが存在しない。
    > 配送先の情報はどのテーブルに保存しますか？
  - ディスクテーブルが存在しない。
    > ディスクの情報はどのテーブルに保存しますか？
  - 曲テーブルが存在しない。
    > 曲の情報はどのテーブルに保存しますか？
  - アーティストテーブルがある方が良い。
    > アーティストの情報はどのテーブルに保存しますか？
  - レーベルテーブルがある方が良い。
    > レーベルの情報はどのテーブルに保存しますか？
  - ジャンルテーブルがある方が良い。
    > ジャンルの情報はどのテーブルに保存しますか？
  - 商品入荷情報を持つテーブルが存在しない。
    > 商品の入荷情報に関する情報はどのテーブルに保存しますか？
## 管理人テーブル
  - エンドユーザーと商品に紐づく意味がない。
    > 管理人テーブルとエンドユーザーテーブルが紐づいている理由はなんですか？
    > 管理人テーブルと商品テーブルが紐づいている理由はなんですか？
## エンドユーザーテーブル
  - 管理人IDが必要ない。
    > エンドユーザーテーブルが管理人IDカラムを持っている理由はなんですか？
  - 退会状態を管理するテーブルが存在しない。
    > エンドユーザーの退会状態はどのよう管理しますか？
## 商品テーブル
  - 管理人IDが必要ない
    > 商品テーブルが管理人IDカラムを持っている理由はなんですか？
  - 発売日を管理するカラムがない。
    > 商品の発売日はどこで管理しますか？
  - 商品のデイスク枚数を管理するカラムがない
    > 商品のディスク枚数はどこで管理しますか？
  - ディスクに対して曲を管理する構造になっていない。
    > 要件ではディスクごとに楽曲の情報を管理する設計になっています。どのように管理しますか？
  - 論理削除用のカラムが存在しない。
    > 商品の論理削除はどのように行いますか？
  - ステータスカラムが何の情報を保持しているのかわからない。
    > ステータスカラムにはどのような情報が入りますか？カラムの名前で判別可能ですか？
  - 在庫数は計算結果のため、商品テーブルで管理するには適さない。在庫管理を行うテーブルの情報を用いて結果を出力する。
    > 在庫数はどのように管理しますか？
## カートテーブル
  - アーティスト名、ジャケット画像、シングル/アルバム名カラムが必要ない。商品IDからこれらのデータを参照することが可能。
    > アーティスト名、ジャケット画像、シングル/アルバム名カラムがあるのは何故でしょうか？
  - FKにユーザーIDが必要。
    > ユーザー情報とカート情報の紐付けはどのように行いますか？
  - 合計金額はカートテーブルで管理しない。
    > カートテーブルで合計金額を管理している理由はなんでしょうか？送料込みの合計金額はどのように算出しますか？
  - PKの命名がテーブル名と合っていない。
    > PKの命名は正しいですか？
  - カートは一時テーブルで管理する必要がある。
    > カートの情報が削除された場合、データの表示が不可能になってしまうテーブルはありま戦果？
## 決済テーブル
  - テーブル名が役割と合っていない。
    > テーブルの命名は正しいでしょうか？テーブル名からデータの役割を判断可能ですか？
  - 合計金額を決済テーブルで管理するべき。
    > 合計金額はどのテーブルで管理しますか？
  - 配送先テーブルと紐づいている必要がある。配送先テーブルのFKが必要(配送先テーブルも必要)
    > 配送先はどのように管理しますか？
  - 送料を管理するカラムがない
    > 送料はどのテーブルで管理しますか？
  - 決済テーブルと購入履歴テーブルのリレーションが1対0or多になっている点がおかしい。決済には必ず購入履歴が存在するため1対多であるべき。
    > 決済テーブルと購入履歴テーブルのリレーションが1対0 or 多　にしている理由はなんですか？
  - 購入日のカラムは、購入履歴テーブルで管理するべき。
    > 購入日の情報はどのテーブルで管理しますか？
## 購入履歴テーブル
  - PKが存在しない。
    > PKが足りないので追加してください。
  - 購入日に関するカラムが存在しない。
    > 購入にはどのテーブルで管理しますか？
  - 購入時の商品情報や購入価格などをこのテーブルで管理する必要がある。そのため、商品テーブルと紐づける必要がある。
    > 購入した商品情報はどのように管理しますか？
  

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# フィードバック1回目
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>
# 指摘事項
## 全体
- 購入時の価格を保存する必要はありませんか？(購入履歴の価格も変わってしまうため)
## 商品テーブル
- 論理削除はどのように行いますか？
- ステータスカラムが何を表しているかわかりません。
- 在庫数は計算結果なのでデータとして保存するには適さないです。
## カートテーブル
- 合計金額はデータとして保存する必要がありますか？(他のものを利用できませんか？)
- PKの命名がテーブル名と合っていません。
## 決済
- テーブル名が役割と合っていません。
- 合計金額はどこで管理しますか？
- カートとのリレーションはどのように利用しますか？
- 送付先住所以外に宛名や郵便番号が必要です。
- 配送先テーブルとのリレーションは必要でしょうか？(ユーザーの登録住所に送る場合などは？)
- 購入日カラムは必要でしょうか？
- 購入履歴テーブルはどのように利用するのでしょうか？

# フィードバック2回目
## 決済
- 配送先テーブルとのリレーションは必要ありません。(利用する配送先情報が配送先テーブルorユーザーの基本情報にある住所の2種類があるため)
- 逆にリレーションがないので、配送先住所、郵便番号、宛名を保存するカラムが必要です
