# ER図2
## 全体
  - 必要のないリレーションが存在する
    - 管理者テーブルがエンドユーザーと商品テーブルに紐づいている意味がない。
  - 管理上必要なテーブル、あった方がいいテーブルが存在しない
    - 配送先を管理するテーブルが存在しない。
    - 在庫数を管理するテーブルが存在しない。
    

## エンドユーザーテーブル
  - PKの命名がテーブル名と一致しない。エンドユーザーidがユーザーidになっている。
  - 名を記録するカラムがない。
  - 配送先カラムが必要ない。
## 商品テーブル
  - シングル・アルバム名ではなく、商品名へカラム名を変更する。
  - 発売日を記録するカラムがない
  - ディスクidカラムが必要ない。また、親子関係が正しくない。
  - 画像のidを保持する必要がある。
  - ディスク枚数カラムが必要ない。
  - 在庫数カラムが必要ない。
## 購入詳細
  - テーブル名は、購入詳細よりも購入履歴にした方が良い。購入後の記録を保管しているテーブルだとわかりやすい。
      - 管理者視点の命名になっていない。
      - 購入テーブルと親子関係が逆
      - 価格の変動に対応できない
      - 注文された商品に関するテーブルなので、商品テーブルとのアソシエーションが必要
## 購入テーブル
  - 配送ステータスを管理するカラムが存在しない。
  - 購入方法を管理するカラムが存在しない。
  - 購入日と登録日は同じ意味なので、片方だけで良い。
  - 宛名と郵便番号を保持するカラムが必要。
## ジャンルテーブル
  - ジャンルカラムではなく、ジャンル名カラムにした方が良い。
## レーベルテーブル
  - レーベルカラムではなく、レーベル名カラムにした方が良い。
## ディスクテーブル
  - 曲名テーブルと親子関係が逆。
  - トラックNoは曲テーブルで管理するべき。
  - ディスクNoを管理するカラムを追加するべき。
## 曲名テーブル
  - トラックNoを管理するカラムを追加するべき。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# フィードバック1回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）


## テーブル名
- 指摘事項
  - ユーザーテーブル
    - [add]→エンドユーザidがユーザidになっている。
    - [add]→配送先カラムは不必要です。
    
  - 商品テーブル
    - 商品名を記録するカラムがない[fix]→一応、シングル・アルバム名がそれにあたりそう。カラム名の改名を促す
    - [add]→ディスクテーブルとの親子関係が逆。fkもいらない。
    - [add]→画像は画像のidを保管する
    - [add]→ディスク枚数カラムは不要
    - [add]→在庫数カラムも不要
    
  - 購入詳細
    - 購入詳細テーブルは必要ない。購入枚数、小計金額データは既にカートアイテムに存在する。購入テーブルから購入枚数、小計金額を参照するなら、エンドユーザーに紐づくカートアイテムを参照すれば同じ情報を取得可能。[fix]→このテーブルは、購入した商品情報を保管するテーブルに該当するため、必要である。
    - [add]→管理者視点の命名になっていない(→受注商品)
    - [add]→購入テーブルとの親子関係が逆
    - [add]→現状では価格の変動に対応できない（重要だから、この部分は自分で意味をよく考えましょう）
    - [add]→注文された商品に関するテーブルなので、商品テーブルとのアソシエーションが必要
    
   - 購入テーブル
     - 送付先住所を管理するテーブルと紐づいている必要がある。[fix]→必要ないです。しちゃダメです。（重要だから、この部分は自分で意味をよく考えましょう）
     - [add]→購入日は登録日と同値じゃないですか？
     - [add]→配送先住所はありますが、宛名と郵便番号はどうしますか？
   
   - ジャンル、レーベル[add]
     - [add]→ジャンル、レーベルカラムには何の情報が入るのか？
 
     
   - ディスクテーブル[add]
     - [add]→曲テーブルと親子関係が逆
     - [add]→トラックNoとは？ディスク番号はどこで管理するか？
     
   - 曲名テーブル[add]
     - [add]→曲番号はどこで管理するか？
 
