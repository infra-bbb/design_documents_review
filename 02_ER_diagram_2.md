# ER図2
## 全体
- 入荷したものを管理するテーブルがない。
  > 入荷情報の管理はどこで行うでしょうか。

## 管理人
- PKがない。
  > それぞれのテーブルを識別するためのPKを記述しましょう。
- エンドユーザとの関連付けが不要。
  > エンドユーザと関連付けされていますが、管理人が複数人いるという想定でしょうか、今回の要件では管理人は1人です。
- 商品との関連付けが不要。
  > 商品と関連付けされていますが、管理人が複数人いるという想定でしょうか、今回の要件では管理人は1人です。

## エンドユーザ
- PKはエンドユーザIDであるべき。
  > PKの命名はテーブル名と合わせましょう。
- 管理人との関連付けが不要。
  > 管理人と関連付けされていますが、管理人が複数人いるという想定でしょうか、今回の要件では管理人は1人です。
- 名の情報を管理できるように考慮されていない。
  > 名について、読みカナのカラムしかありません。名はどこで管理しているでしょうか。
- 現住所とは別の配送先データを持てるように考慮されていない。
  > 現状、配送先は1つしか持てないようになっています。複数の配送先データを持てるように設計しましょう。

## カートアイテム
- PKがない。
  > ぞれぞれのレコードを識別するためのPKを記述しましょう。
- 商品と1以上多で関連付く必要がない。
  > カートアイテムと商品とで、1以上多で関連付いていますが、現状、それぞれの商品は必ずカートアイテムを持っていないといけない状態になります。
- 小計金額は算出できるため不必要。
  > 小計金額は商品価格×個数で算出できるため不要です。
## 購入
- 命名が適切でない。
  > テーブル名は管理側の視点で命名しましょう。
- 1テーブルに、FKの購入詳細IDが複数存在する可能性があることに考慮していない。
  > FKで購入詳細IDを持っていますが、購入した商品が複数ある場合、1テーブルに複数の購入詳細IDが入ってしまいます。
- 配送状況を管理するカラムがない。
  > 現状、配送状況を管理するカラムがないですが、どこで管理しているでしょうか。
- 受取人氏名が購入者以外にも対応できるようにしていない。
  > 受取人氏名はエンドユーザ以外でも登録できるようにする必要があります。
- 購入日と登録日のカラムの役割が重複している。
  > 購入日と登録日の役割が重複しています。分ける必要があるならば理由を教えてください。

## ディスク
- 商品との関連付けが逆。
  > 商品とディスクとで、1対1以上多で関連付いていますが、現状ディスクは複数の商品に属する(商品は1つのディスクしか持てない)という設計になっています。
- 曲名との関連付けが逆で、1テーブルに、FKの曲名IDが複数存在する可能性があることに考慮していない。 。
  > ディスクと曲名とで、1対以上多で関連付いていますが、現状、曲名は複数のディスクに属する(ディスクは1つの曲名しか持てない)という設計になっています。
- ディスクの名前を保存するカラムがない。
  > ディスク名を管理するカラムがありません。

## 曲名
- ディスクとの関連付けが逆で、ディスクとのFKがなく、どのディスクに関連付くレコードか管理できていない。
  > ディスクと曲名とで、1対以上多で関連付いていますが、現状、曲名は複数のディスクに属する(ディスクは1つの曲名しか持てない)という設計になっています。
- 曲順を保存するカラムがない。
  > 曲順を管理するカラムが不足していますが、ディスク内で曲順をどのように管理しているでしょうか。
- カラム「トラックNo.」について、命名の趣旨が曖昧でカラムの役割が理解しづらい。
  > トラックNo.について、命名の趣旨が曖昧で役割が理解しづらいです。ディスクナンバー等としましょう。

## ジャンル
- 商品に対して1以上多で関連付く必要がない。
  > ジャンルと商品とで1対1以上多で関連付いていますが、ジャンルは必ず1つ以上の商品と関連付いていないといけないことになってしまいます。商品と関連付いていなくてもいいように設計しましょう。
- カラム「ジャンル」について、命名の趣旨が曖昧でカラムの役割が理解しづらい。
  > カラムのジャンルの命名の趣旨が曖昧で役割が理解しづらいです。ジャンル名等としましょう。

## レーベル
- 商品に対して1以上多で関連付く必要がない。
  > レーベルと商品とで1対1以上多で関連付いていますが、レーベルは必ず1つ以上の商品と関連付いていないといけないことになってしまいます。商品と関連付いていなくてもいいように設計しましょう。
- カラム「レーベル」について、命名の趣旨が曖昧でカラムに役割の理解しづらい。
  > カラムのレーベルの命名の趣旨が曖昧で役割が理解しづらいです。レーベル名等としましょう。

## アーティスト
- 商品に対して1以上多で関連付く必要がない。
  > アーティストと商品とで1対1以上多で関連付いていますが、アーティストは必ず1つ以上の商品と関連付いていないといけないことになってしまいます。商品と関連付いていなくてもいいように設計しましょう。
- アーティスト名の読み方について管理できるカラムがあるべき。
  > アーティスト名の読み方についても管理できるようカラムを追加しましょう。

## 商品
- カートアイテムに対して1以上多で関連付く必要がない。
  > 商品とカートアイテムとで1対1以上多で関連付いていますが、商品は必ず1つ以上のカートアイテムと関連付いていないといけないことになってしまいます。カートアイテムと関連付いていなくてもいいように設計しましょう。
- 1テーブルに、FKのディスクIDが複数存在する可能性があることに考慮していない。
  > 1商品にディスクが複数あった場合、ディスクIDは1商品に複数入ってしまいます。
- 在庫数カラムは仕入れと受注との計算結果になり、値が変動するため不必要。
  > 在庫数は仕入れと受注の計算結果で決まり、値が変動するためカラムとして持たせることは不適切です。

## 購入詳細
- 命名が適切でない。
  > テーブル名は管理側視点で命名することが一般的なため、受注詳細等に変更しましょう。
- 購入に対して1以上多で関連付く必要がある。
  > 購入と購入詳細とで、1対0以上多で関連付いていますが、購入詳細は必ずしも購入と関連付いていなくてもよいという設計になってしまっています。すべての購入詳細はいずれかの購入と関連付くように設計しましょう。
- どの商品の購入詳細なのか関連付けがされていない。
  > どの商品の購入詳細なのか商品の情報が不足しています。関連付けをし、情報を結び付けましょう。
- 購入した時の価格を保存するカラムがない。
  > 購入したときの価格をどこで管理しているでしょうか。商品の価格と購入数で求めることを想定している場合、購入後に商品の価格が変動した場合、購入詳細の小計も変わってしまいます。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## 指摘事項
## エンドユーザ
- PKがユーザidになっています。

## カートアイテム
- 小計カラムは必要ありません。(個数✖️商品テーブルの価格で算出できるため)

## 購入詳細
- 命名は管理者視点が好ましいです(ex. 受注)
- 購入時価格を保存するカラムがありません。

## ディスク
- トラックno.の用途がわかりづらいです。

## レビュー
- 合格です
